{% set title = chart.title %}
{% set intro = chart.metadata.describe.intro %}
{% include theme.hasTemplate ? 'themes/' ~ theme.id ~ '.twig' : 'chart-template-default.twig' %}
<html>
<head>
    <title>{{ title }}</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style type="text/css">

body {
    padding: 20px 20px 0;
}


    </style>
    <!--[if lt IE 9]>
    <script src="/static/vendor/json-js/json2.min.js"></script>
    <script type="text/javascript">

    </script>
    <![endif]-->

{% for src in stylesheets %}
    <link rel="stylesheet" type="text/css" href="{{ src }}"></link>
{% endfor %}

{% for src in scripts %}
    <script type="text/javascript" src="{{ src }}"></script>
{% endfor %}

</head>
<body>

    {{ block('body') }}

    <script type="text/javascript">

$(function() {
    // initialize theme
    var theme = Datawrapper.Themes.{{ theme.id|classify }};
    // initialize chart
    var chart = new Datawrapper.Chart(JSON.parse('{{ chart.toJSON|raw }}'));
    // initliaze visualization
    var vis = new Datawrapper.Visualizations.{{ visualization.id|classify }}();

    vis.setTheme(theme);

    vis.load(chart, function() {
        vis.render('#chart');
    });

});

    </script>
</body>
</html>